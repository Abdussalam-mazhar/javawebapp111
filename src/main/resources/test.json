{
  "Packages": [
    {
      "Name": "core",
      "actions": [
        {
          "name": "ShowHelp",
          "steps": [
            {
              "ProcName": "Echo",
              "ParamMappings": {
                "MessageToPrint": "The following commands are available:
* /new - create a new character
* /help - show this help info"
              }
            }
          ]
        },
        {
          "name": "GetPlayerAttribute",
          "inputs": [
            "AttributeName"
          ],
          "steps": [
            {
              "ProcName": "Native:ReadVar",
              "ParamMappings": {
                "VarSet": "Player",
                "VarName": "${AttributeName}"
              },
              "OutputMappings": {
                "VarValue": "AttributeValue"
              }
            }
          ],
          "outputs": [
            "AttributeValue"
          ]
        },
        {
          "name": "SetPlayerAttribute",
          "inputs": [
            "AttributeName",
            "AttributeValue"
          ],
          "steps": [
            {
              "ProcName": "Native:SetVar",
              "ParamMappings": {
                "VarSet": "Player",
                "VarName": "${AttributeName}",
                "VarValue": "${AttributeValue}"
              }
            }
          ]
        }
      ]
    },
    {
      "Name": "setup",
      "actions": [
        {
          "name": "PlayerSetup",
          "steps": [
            {
              "ProcName": "ReadPlayerName"
            },
            {
              "ProcName": "ReadPlayerClass"
            },
            {
              "ProcName": "Goto",
              "ParamMappings": {
                "Location": "The Village"
              }
            },
            {
              "ProcName": "Echo",
              "ParamMappings": {
                "MessageToPrint": "Welcome, ${Player.Name} the ${Player.Class}! You are at ${Player.Location}"
              }
            }
          ]
        },
        {
          "name": "ReadPlayerName",
          "steps": [
            {
              "ProcName": "Echo",
              "ParamMappings": {
                "MessageToPrint": "By what name will you be known?"
              }
            },
            {
              "ProcName": "Native:ReadTextInput",
              "OutputMappings": {
                "CapturedText": "CharacterName"
              }
            },
            {
              "ProcName": "Echo",
              "ParamMappings": {
                "MessageToPrint": "Very well. So shall you be known."
              }
            },
            {
              "ProcName": "SetPlayerAttribute",
              "ParamMappings": {
                "AttributeName": "Name",
                "AttributeValue": "${CharacterName}"
              }
            }
          ]
        },
        {
          "name": "ReadPlayerClass",
          "steps": [
            {
              "ProcName": "Echo",
              "ParamMappings": {
                "MessageToPrint": "Please choose your player class"
              }
            },
            {
              "ProcName": "Native:ReadOption",
              "ParamMappings": {
                "OptionsCSV": "Wizard,Druid,Explorer"
              },
              "OutputMappings": {
                "ChosenOption": "Class"
              }
            },
            {
              "ProcName": "SetPlayerAttribute",
              "ParamMappings": {
                "AttributeName": "Class",
                "AttributeValue": "${Class}"
              }
            }
          ]
        },
        {
          "name": "Goto",
          "inputs": ["Location"],
          "steps": [
            {
              "ProcName": "Echo",
              "MessageToPrint", "You have left ${Player.Location}"
            },
            {
              "ProcName": "SetPlayerAttribute",
              "ParamMappings": {
                "AttributeName": "Location",
                "AttributeValue": "${Location}"
              }
            },
            {
              "ProcName": "Echo",
              "MessageToPrint", "You are now at ${Player.Location}"
            }
          ]
        }
      ]
    },
    {
      "Name": "io",
      "actions": [
        {
          "name": "Echo",
          "inputs": [
            "MessageToPrint"
          ],
          "steps": [
            {
              "ProcName": "Native:SendMessage",
              "ParamMappings": {
                "Message": "${MessageToPrint}"
              }
            }
          ]
        },
        {
          "name": "ReadOption",
          "inputs": [
            "OptionsCSV"
          ],
          "steps": [
            {
              "ProcName": "Native:ReadOption",
              "ParamMappings": {
                "OptionsCSV": "OptionsCSV"
              },
              "OutputMappings": {
                "ChosenOption": "ChosenOption"
              }
            }
          ],
          "outputs": [
            "ChosenOption"
          ]
        }
      ]
    }
  ]
}
