{
  "Hooks": [
    {
      "name": "TestHook",
      "type": "VarChange",
      "trigger": "__Player.Location",
      "steps": [
        {
          "ProcName": "Echo",
          "ParamMappings": {
            "MessageToPrint": "TESTING! Hook fired!"
          }
        }
      ]
    }
  ],

  "Packages": [
    {
      "Name": "core",
      "actions": [
        {
          "name": "ShowHelp",
          "steps": [
            {
              "ProcName": "Echo",
              "ParamMappings": {
                "MessageToPrint": "The following commands are available:\n* /new - create a new character\n* /help - show this help info\n* /village, /mountain, /woodlands - move around"
              }
            }
          ]
        },
        {
          "name": "GetPlayerAttribute",
          "steps": [
            {
              "ProcName": "Native:ReadVar",
              "ParamMappings": {
                "VarSet": "Player",
                "VarName": "${AttributeName}"
              },
              "OutputMappings": {
                "VarValue": "AttributeValue"
              }
            }
          ]
        },
        {
          "name": "SetPlayerAttribute",
          "steps": [
            {
              "ProcName": "Native:SetVar",
              "ParamMappings": {
                "VarSet": "__Player",
                "VarName": "${AttributeName}",
                "VarValue": "${AttributeValue}"
              }
            }
          ]
        }
      ]
    },
    {
      "Name": "setup",
      "actions": [
        {
          "name": "PlayerSetup",
          "steps": [
            {
              "ProcName": "ReadPlayerName"
            },
            {
              "ProcName": "ReadPlayerClass"
            },
            {
              "ProcName": "Goto",
              "ParamMappings": {
                "NewLocation": "The Village"
              }
            },
            {
              "ProcName": "Echo",
              "ParamMappings": {
                "MessageToPrint": "Welcome, ${Player.Name} the ${Player.Class}! You are at ${Player.Location}"
              }
            }
          ]
        },
        {
          "name": "ReadPlayerName",
          "steps": [
            {
              "ProcName": "Echo",
              "ParamMappings": {
                "MessageToPrint": "By what name will you be known?"
              }
            },
            {
              "ProcName": "Native:ReadTextInput",
              "OutputMappings": {
                "CapturedText": "CharacterName"
              }
            },
            {
              "ProcName": "Echo",
              "ParamMappings": {
                "MessageToPrint": "Very well. So shall you be known."
              }
            },
            {
              "ProcName": "SetPlayerAttribute",
              "ParamMappings": {
                "AttributeName": "Name",
                "AttributeValue": "${CharacterName}"
              }
            }
          ]
        },
        {
          "name": "ReadPlayerClass",
          "steps": [
            {
              "ProcName": "Native:ReadOption",
              "ParamMappings": {
                "MessageToPrint": "Please choose your player class",
                "Options": "General,Trickster,Explorer,Brawler,Wizard,Druid"
              },
              "OutputMappings": {
                "ChosenOption": "Class"
              }
            },
            {
              "ProcName": "SetPlayerAttribute",
              "ParamMappings": {
                "AttributeName": "Class",
                "AttributeValue": "${Class}"
              }
            }
          ]
        },
        {
          "name": "Goto",
          "steps": [
            {
              "ProcName": "SetPlayerAttribute",
              "ParamMappings": {
                "AttributeName": "Location",
                "AttributeValue": "${NewLocation}"
              }
            },
            {
              "ProcName": "Echo",
              "ParamMappings": {
                "MessageToPrint": "You are now at ${Player.Location}"
              }
            },
            {
              "ProcName": "${Player.Location} Menu"
            }
          ]
        }
      ]
    },
    {
      "Name": "io",
      "actions": [
        {
          "name": "Echo",
          "steps": [
            {
              "ProcName": "Native:SendMessage",
              "ParamMappings": {
                "Message": "${MessageToPrint}"
              }
            }
          ]
        }
      ]
    },

    {
      "Name": "Village",
      "actions": [
        {
          "name": "The Village Menu",
          "steps": [
            {
              "ProcName": "Native:ReadOption",
              "ParamMappings": {
                "MessageToPrint": "The bustle of the village square brings a reassuring comfort to weary adventurers - the only danger here is the prices charged by the local bartender.\n\nThe square is dominated on the one side by the local tavern, from which you hear loud music and occasional raised voices.\n\nFacing it, within stumbling range, is the Inn. The innkeeper is a friend, and has offered to look after any items you may wish to leave behind while you're out on your adventures.\n\nTo the north lies a path leading up to The Mountain, and another leading out to the Woodlands.",
                "Options": "The Inn,The Mountain,The Woodlands"
              }
            }
          ]
        }
      ]
    },
    {
      "Name": "Mountain",
      "actions": [
        {
          "name": "The Mountain Menu",
          "steps": [
            {
              "ProcName": "Native:ReadOption",
              "ParamMappings": {
                "MessageToPrint": "This is the mountain...",
                "Options": "The Village"
              }
            }
          ]
        }
      ]
    }

  ]
}
